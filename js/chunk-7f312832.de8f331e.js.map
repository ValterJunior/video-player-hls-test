{"version":3,"sources":["webpack:///./node_modules/url-parse/index.js","webpack:///./node_modules/requires-port/index.js","webpack:///./node_modules/querystringify/index.js","webpack:///./node_modules/jdataview/dist/node/jdataview.js","webpack:///./node_modules/@lxsmnsyc/indigo-player/dist/esm/ThumbnailsExtension-8700d783.js"],"names":["required","qs","slashes","protocolre","windowsDriveLetter","whitespace","left","RegExp","trimLeft","str","toString","replace","rules","address","url","isSpecial","protocol","NaN","undefined","ignore","hash","query","lolcation","loc","globalVar","window","global","self","location","key","finaldestination","type","Url","unescape","pathname","test","href","scheme","extractProtocol","rest","match","exec","toLowerCase","forwardSlashes","otherSlashes","slashesCount","length","slice","resolve","relative","base","path","split","concat","i","last","unshift","up","splice","push","join","parser","this","extracted","parse","instruction","index","instructions","indexOf","charAt","port","host","hostname","username","password","auth","origin","set","part","value","fn","pop","char","ins","stringify","result","prototype","module","exports","undef","has","Object","hasOwnProperty","decode","input","decodeURIComponent","e","encode","encodeURIComponent","querystring","querystringify","obj","prefix","pairs","call","isNaN","factory","is","Ctor","constructor","name","arrayFrom","arrayLike","forceCopy","Array","defined","defaultValue","jDataView","buffer","byteOffset","byteLength","littleEndian","_littleEndian","wrapBuffer","_isArrayBuffer","compatibility","ArrayBuffer","_isPixelData","_isDataView","DataView","_isNodeBuffer","NodeBuffer","Buffer","TypeError","bufferLength","_offset","_bitOffset","_view","_checkBounds","_engineAction","_dataViewAction","_nodeBufferAction","_arrayBufferAction","_arrayAction","getCharCodes","string","Type","Uint8Array","codes","charCodeAt","pow2","n","Math","pow","Uint64","lo","hi","Int64","apply","arguments","PixelData","TextEncoder","TextDecoder","writeFloatLE","dataTypes","Int8","Int16","Int32","Uint8","Uint16","Uint32","Float32","Float64","fill","view","from","valueOf","Number","fromNumber","number","floor","create","unsigned","proto","maxLength","RangeError","_action","isReadAction","typedArray","size","TypedArray","bytes","getBytes","_setBytes","_getBytes","reverse","toArray","copy","setBytes","getString","encoding","String","fromCharCode","escape","setString","subString","write","getChar","setChar","character","tell","seek","skip","start","end","normalizeOffset","offset","alignBy","byteCount","_getFloat64","b","sign","exponent","mantissa","_getFloat32","_get64","parts","getUint32","getInt64","getUint64","_getInt32","_getUint32","_getInt16","_getUint16","_getInt8","_getUint8","_getBitRangeData","bitLength","startBit","endBit","wideValue","getSigned","shift","getUnsigned","_setBinaryFloat","mantSize","expSize","signBit","eMax","eMin","log","LN2","_setFloat32","_setFloat64","_set64","partName","setUint32","setInt64","setUint64","_setUint32","_setUint16","_setUint8","setUnsigned","data","nodeNaming","nodeName","method","_setInt32","_setInt16","_setInt8","setSigned","BIF_INDEX_OFFSET","NUMBER_OF_BIF_IMAGES_OFFSET","VERSION_OFFSET","BIF_INDEX_ENTRY_LENGTH","MAGIC_NUMBER","validate","magicNumber","isValid","forEach","_byte","BIFParser","arrayBuffer","Error","numberOfBIFImages","version","bifIndex","generateBIFIndex","bifDimensions","width","height","getInitialImageDimensions","console","warn","stack","_proto","bifIndexEntryOffset","bifIndexEntryTimestampOffset","bifIndexEntryAbsoluteOffset","nextBifIndexEntryAbsoluteOffset","nextOffset","timestamp","_this","image","src","btoa","img","Image","onload","getImageDataAtSecond","second","frame","find","bif","x","y","getImageData","_this2","images","cleanWord","word","parseInt","timeString2ms","a","splitA","parsedRight","timeSpan","map","vttToJson","_x","_vttToJson","mark","_callee","vttString","wrap","_context","prev","next","abrupt","Promise","current","sections","vttArray","line","includes","_line$split$0$trimRig","_line$split$1$trimLef","trimRight","regex","section","strs","results","s","reduce","cleanText","cleanArray","resultsArray","item","_item$split","time","sect","words","stop","ThumbnailsExtension","_Module","instance","thumbnails","extension","load","loadVttThumbs","_loadVttThumbs","file","response","json","fetch","sent","text","_parts$query$xywh$spl","xywh","trunc","sort","loadBifThumbs","_loadBifThumbs","_callee2","_context2","bifParser","_x2","_load","_callee3","_this$instance$config","_file$split$pop","_context3","config","getThumbnail","seconds","thumbnail"],"mappings":"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","file":"js/chunk-7f312832.de8f331e.js","sourcesContent":["'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/\n  , whitespace = '[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]'\n  , left = new RegExp('^'+ whitespace +'+');\n\n/**\n * Trim a given string.\n *\n * @param {String} str String to trim.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(left, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    default:\n      url[part] = value;\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result = protocol + (url.slashes || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","!function(factory) {\n    var global = this;\n    module.exports = factory(global);\n}(function(global) {\n    \"use strict\";\n    function is(obj, Ctor) {\n        return \"object\" != typeof obj || null === obj ? !1 : obj.constructor === Ctor || Object.prototype.toString.call(obj) === \"[object \" + Ctor.name + \"]\";\n    }\n    function arrayFrom(arrayLike, forceCopy) {\n        return !forceCopy && is(arrayLike, Array) ? arrayLike : Array.prototype.slice.call(arrayLike);\n    }\n    function defined(value, defaultValue) {\n        return void 0 !== value ? value : defaultValue;\n    }\n    function jDataView(buffer, byteOffset, byteLength, littleEndian) {\n        if (jDataView.is(buffer)) {\n            var result = buffer.slice(byteOffset, byteOffset + byteLength);\n            return result._littleEndian = defined(littleEndian, result._littleEndian), result;\n        }\n        if (!jDataView.is(this)) return new jDataView(buffer, byteOffset, byteLength, littleEndian);\n        if (this.buffer = buffer = jDataView.wrapBuffer(buffer), this._isArrayBuffer = compatibility.ArrayBuffer && is(buffer, ArrayBuffer), \n        this._isPixelData = !1, this._isDataView = compatibility.DataView && this._isArrayBuffer, \n        this._isNodeBuffer = !0 && compatibility.NodeBuffer && is(buffer, Buffer), !this._isNodeBuffer && !this._isArrayBuffer && !is(buffer, Array)) throw new TypeError(\"jDataView buffer has an incompatible type\");\n        this._littleEndian = !!littleEndian;\n        var bufferLength = \"byteLength\" in buffer ? buffer.byteLength : buffer.length;\n        this.byteOffset = byteOffset = defined(byteOffset, 0), this.byteLength = byteLength = defined(byteLength, bufferLength - byteOffset), \n        this._offset = this._bitOffset = 0, this._isDataView ? this._view = new DataView(buffer, byteOffset, byteLength) : this._checkBounds(byteOffset, byteLength, bufferLength), \n        this._engineAction = this._isDataView ? this._dataViewAction : this._isNodeBuffer ? this._nodeBufferAction : this._isArrayBuffer ? this._arrayBufferAction : this._arrayAction;\n    }\n    function getCharCodes(string) {\n        if (compatibility.NodeBuffer) return new Buffer(string, \"binary\");\n        for (var Type = compatibility.ArrayBuffer ? Uint8Array : Array, codes = new Type(string.length), i = 0, length = string.length; length > i; i++) codes[i] = 255 & string.charCodeAt(i);\n        return codes;\n    }\n    function pow2(n) {\n        return n >= 0 && 31 > n ? 1 << n : pow2[n] || (pow2[n] = Math.pow(2, n));\n    }\n    function Uint64(lo, hi) {\n        this.lo = lo, this.hi = hi;\n    }\n    function Int64() {\n        Uint64.apply(this, arguments);\n    }\n    var compatibility = {\n        NodeBuffer: !0 && \"Buffer\" in global,\n        DataView: \"DataView\" in global,\n        ArrayBuffer: \"ArrayBuffer\" in global,\n        PixelData: !1\n    }, TextEncoder = global.TextEncoder, TextDecoder = global.TextDecoder;\n    compatibility.NodeBuffer && !function(buffer) {\n        try {\n            buffer.writeFloatLE(1/0, 0);\n        } catch (e) {\n            compatibility.NodeBuffer = !1;\n        }\n    }(new Buffer(4));\n    var dataTypes = {\n        Int8: 1,\n        Int16: 2,\n        Int32: 4,\n        Uint8: 1,\n        Uint16: 2,\n        Uint32: 4,\n        Float32: 4,\n        Float64: 8\n    };\n    jDataView.wrapBuffer = function(buffer) {\n        switch (typeof buffer) {\n          case \"number\":\n            if (compatibility.NodeBuffer) buffer = new Buffer(buffer), buffer.fill(0); else if (compatibility.ArrayBuffer) buffer = new Uint8Array(buffer).buffer; else {\n                buffer = new Array(buffer);\n                for (var i = 0; i < buffer.length; i++) buffer[i] = 0;\n            }\n            return buffer;\n\n          case \"string\":\n            buffer = getCharCodes(buffer);\n\n          default:\n            return \"length\" in buffer && !(compatibility.NodeBuffer && is(buffer, Buffer) || compatibility.ArrayBuffer && is(buffer, ArrayBuffer)) && (compatibility.NodeBuffer ? buffer = new Buffer(buffer) : compatibility.ArrayBuffer ? is(buffer, ArrayBuffer) || (buffer = new Uint8Array(buffer).buffer, \n            is(buffer, ArrayBuffer) || (buffer = new Uint8Array(arrayFrom(buffer, !0)).buffer)) : buffer = arrayFrom(buffer)), \n            buffer;\n        }\n    }, jDataView.is = function(view) {\n        return view && view.jDataView;\n    }, jDataView.from = function() {\n        return new jDataView(arguments);\n    }, jDataView.Uint64 = Uint64, Uint64.prototype = {\n        valueOf: function() {\n            return this.lo + pow2(32) * this.hi;\n        },\n        toString: function() {\n            return Number.prototype.toString.apply(this.valueOf(), arguments);\n        }\n    }, Uint64.fromNumber = function(number) {\n        var hi = Math.floor(number / pow2(32)), lo = number - hi * pow2(32);\n        return new Uint64(lo, hi);\n    }, jDataView.Int64 = Int64, Int64.prototype = \"create\" in Object ? Object.create(Uint64.prototype) : new Uint64(), \n    Int64.prototype.valueOf = function() {\n        return this.hi < pow2(31) ? Uint64.prototype.valueOf.apply(this, arguments) : -(pow2(32) - this.lo + pow2(32) * (pow2(32) - 1 - this.hi));\n    }, Int64.fromNumber = function(number) {\n        var lo, hi;\n        if (number >= 0) {\n            var unsigned = Uint64.fromNumber(number);\n            lo = unsigned.lo, hi = unsigned.hi;\n        } else hi = Math.floor(number / pow2(32)), lo = number - hi * pow2(32), hi += pow2(32);\n        return new Int64(lo, hi);\n    };\n    var proto = jDataView.prototype = {\n        compatibility: compatibility,\n        jDataView: !0,\n        _checkBounds: function(byteOffset, byteLength, maxLength) {\n            if (\"number\" != typeof byteOffset) throw new TypeError(\"Offset is not a number.\");\n            if (\"number\" != typeof byteLength) throw new TypeError(\"Size is not a number.\");\n            if (0 > byteLength) throw new RangeError(\"Length is negative.\");\n            if (0 > byteOffset || byteOffset + byteLength > defined(maxLength, this.byteLength)) throw new RangeError(\"Offsets are out of bounds.\");\n        },\n        _action: function(type, isReadAction, byteOffset, littleEndian, value) {\n            return this._engineAction(type, isReadAction, defined(byteOffset, this._offset), defined(littleEndian, this._littleEndian), value);\n        },\n        _dataViewAction: function(type, isReadAction, byteOffset, littleEndian, value) {\n            return this._offset = byteOffset + dataTypes[type], isReadAction ? this._view[\"get\" + type](byteOffset, littleEndian) : this._view[\"set\" + type](byteOffset, value, littleEndian);\n        },\n        _arrayBufferAction: function(type, isReadAction, byteOffset, littleEndian, value) {\n            var typedArray, size = dataTypes[type], TypedArray = global[type + \"Array\"];\n            if (littleEndian = defined(littleEndian, this._littleEndian), 1 === size || (this.byteOffset + byteOffset) % size === 0 && littleEndian) return typedArray = new TypedArray(this.buffer, this.byteOffset + byteOffset, 1), \n            this._offset = byteOffset + size, isReadAction ? typedArray[0] : typedArray[0] = value;\n            var bytes = new Uint8Array(isReadAction ? this.getBytes(size, byteOffset, littleEndian, !0) : size);\n            return typedArray = new TypedArray(bytes.buffer, 0, 1), isReadAction ? typedArray[0] : (typedArray[0] = value, \n            void this._setBytes(byteOffset, bytes, littleEndian));\n        },\n        _arrayAction: function(type, isReadAction, byteOffset, littleEndian, value) {\n            return isReadAction ? this[\"_get\" + type](byteOffset, littleEndian) : this[\"_set\" + type](byteOffset, value, littleEndian);\n        },\n        _getBytes: function(length, byteOffset, littleEndian) {\n            littleEndian = defined(littleEndian, this._littleEndian), byteOffset = defined(byteOffset, this._offset), \n            length = defined(length, this.byteLength - byteOffset), this._checkBounds(byteOffset, length), \n            byteOffset += this.byteOffset, this._offset = byteOffset - this.byteOffset + length;\n            var result = this._isArrayBuffer ? new Uint8Array(this.buffer, byteOffset, length) : (this.buffer.slice || Array.prototype.slice).call(this.buffer, byteOffset, byteOffset + length);\n            return littleEndian || 1 >= length ? result : arrayFrom(result).reverse();\n        },\n        getBytes: function(length, byteOffset, littleEndian, toArray) {\n            var result = this._getBytes(length, byteOffset, defined(littleEndian, !0));\n            return toArray ? arrayFrom(result) : result;\n        },\n        _setBytes: function(byteOffset, bytes, littleEndian) {\n            var length = bytes.length;\n            if (0 !== length) {\n                if (littleEndian = defined(littleEndian, this._littleEndian), byteOffset = defined(byteOffset, this._offset), \n                this._checkBounds(byteOffset, length), !littleEndian && length > 1 && (bytes = arrayFrom(bytes, !0).reverse()), \n                byteOffset += this.byteOffset, this._isArrayBuffer) new Uint8Array(this.buffer, byteOffset, length).set(bytes); else if (this._isNodeBuffer) new Buffer(bytes).copy(this.buffer, byteOffset); else for (var i = 0; length > i; i++) this.buffer[byteOffset + i] = bytes[i];\n                this._offset = byteOffset - this.byteOffset + length;\n            }\n        },\n        setBytes: function(byteOffset, bytes, littleEndian) {\n            this._setBytes(byteOffset, bytes, defined(littleEndian, !0));\n        },\n        getString: function(byteLength, byteOffset, encoding) {\n            if (this._isNodeBuffer) return byteOffset = defined(byteOffset, this._offset), byteLength = defined(byteLength, this.byteLength - byteOffset), \n            this._checkBounds(byteOffset, byteLength), this._offset = byteOffset + byteLength, \n            this.buffer.toString(encoding || \"binary\", this.byteOffset + byteOffset, this.byteOffset + this._offset);\n            var bytes = this._getBytes(byteLength, byteOffset, !0);\n            if (encoding = \"utf8\" === encoding ? \"utf-8\" : encoding || \"binary\", TextDecoder && \"binary\" !== encoding) return new TextDecoder(encoding).decode(this._isArrayBuffer ? bytes : new Uint8Array(bytes));\n            var string = \"\";\n            byteLength = bytes.length;\n            for (var i = 0; byteLength > i; i++) string += String.fromCharCode(bytes[i]);\n            return \"utf-8\" === encoding && (string = decodeURIComponent(escape(string))), string;\n        },\n        setString: function(byteOffset, subString, encoding) {\n            if (this._isNodeBuffer) return byteOffset = defined(byteOffset, this._offset), this._checkBounds(byteOffset, subString.length), \n            void (this._offset = byteOffset + this.buffer.write(subString, this.byteOffset + byteOffset, encoding || \"binary\"));\n            encoding = \"utf8\" === encoding ? \"utf-8\" : encoding || \"binary\";\n            var bytes;\n            TextEncoder && \"binary\" !== encoding ? bytes = new TextEncoder(encoding).encode(subString) : (\"utf-8\" === encoding && (subString = unescape(encodeURIComponent(subString))), \n            bytes = getCharCodes(subString)), this._setBytes(byteOffset, bytes, !0);\n        },\n        getChar: function(byteOffset) {\n            return this.getString(1, byteOffset);\n        },\n        setChar: function(byteOffset, character) {\n            this.setString(byteOffset, character);\n        },\n        tell: function() {\n            return this._offset;\n        },\n        seek: function(byteOffset) {\n            return this._checkBounds(byteOffset, 0), this._offset = byteOffset;\n        },\n        skip: function(byteLength) {\n            return this.seek(this._offset + byteLength);\n        },\n        slice: function(start, end, forceCopy) {\n            function normalizeOffset(offset, byteLength) {\n                return 0 > offset ? offset + byteLength : offset;\n            }\n            return start = normalizeOffset(start, this.byteLength), end = normalizeOffset(defined(end, this.byteLength), this.byteLength), \n            forceCopy ? new jDataView(this.getBytes(end - start, start, !0, !0), void 0, void 0, this._littleEndian) : new jDataView(this.buffer, this.byteOffset + start, end - start, this._littleEndian);\n        },\n        alignBy: function(byteCount) {\n            return this._bitOffset = 0, 1 !== defined(byteCount, 1) ? this.skip(byteCount - (this._offset % byteCount || byteCount)) : this._offset;\n        },\n        _getFloat64: function(byteOffset, littleEndian) {\n            var b = this._getBytes(8, byteOffset, littleEndian), sign = 1 - 2 * (b[7] >> 7), exponent = ((b[7] << 1 & 255) << 3 | b[6] >> 4) - 1023, mantissa = (15 & b[6]) * pow2(48) + b[5] * pow2(40) + b[4] * pow2(32) + b[3] * pow2(24) + b[2] * pow2(16) + b[1] * pow2(8) + b[0];\n            return 1024 === exponent ? 0 !== mantissa ? 0/0 : 1/0 * sign : -1023 === exponent ? sign * mantissa * pow2(-1074) : sign * (1 + mantissa * pow2(-52)) * pow2(exponent);\n        },\n        _getFloat32: function(byteOffset, littleEndian) {\n            var b = this._getBytes(4, byteOffset, littleEndian), sign = 1 - 2 * (b[3] >> 7), exponent = (b[3] << 1 & 255 | b[2] >> 7) - 127, mantissa = (127 & b[2]) << 16 | b[1] << 8 | b[0];\n            return 128 === exponent ? 0 !== mantissa ? 0/0 : 1/0 * sign : -127 === exponent ? sign * mantissa * pow2(-149) : sign * (1 + mantissa * pow2(-23)) * pow2(exponent);\n        },\n        _get64: function(Type, byteOffset, littleEndian) {\n            littleEndian = defined(littleEndian, this._littleEndian), byteOffset = defined(byteOffset, this._offset);\n            for (var parts = littleEndian ? [ 0, 4 ] : [ 4, 0 ], i = 0; 2 > i; i++) parts[i] = this.getUint32(byteOffset + parts[i], littleEndian);\n            return this._offset = byteOffset + 8, new Type(parts[0], parts[1]);\n        },\n        getInt64: function(byteOffset, littleEndian) {\n            return this._get64(Int64, byteOffset, littleEndian);\n        },\n        getUint64: function(byteOffset, littleEndian) {\n            return this._get64(Uint64, byteOffset, littleEndian);\n        },\n        _getInt32: function(byteOffset, littleEndian) {\n            var b = this._getBytes(4, byteOffset, littleEndian);\n            return b[3] << 24 | b[2] << 16 | b[1] << 8 | b[0];\n        },\n        _getUint32: function(byteOffset, littleEndian) {\n            return this._getInt32(byteOffset, littleEndian) >>> 0;\n        },\n        _getInt16: function(byteOffset, littleEndian) {\n            return this._getUint16(byteOffset, littleEndian) << 16 >> 16;\n        },\n        _getUint16: function(byteOffset, littleEndian) {\n            var b = this._getBytes(2, byteOffset, littleEndian);\n            return b[1] << 8 | b[0];\n        },\n        _getInt8: function(byteOffset) {\n            return this._getUint8(byteOffset) << 24 >> 24;\n        },\n        _getUint8: function(byteOffset) {\n            return this._getBytes(1, byteOffset)[0];\n        },\n        _getBitRangeData: function(bitLength, byteOffset) {\n            var startBit = (defined(byteOffset, this._offset) << 3) + this._bitOffset, endBit = startBit + bitLength, start = startBit >>> 3, end = endBit + 7 >>> 3, b = this._getBytes(end - start, start, !0), wideValue = 0;\n            (this._bitOffset = 7 & endBit) && (this._bitOffset -= 8);\n            for (var i = 0, length = b.length; length > i; i++) wideValue = wideValue << 8 | b[i];\n            return {\n                start: start,\n                bytes: b,\n                wideValue: wideValue\n            };\n        },\n        getSigned: function(bitLength, byteOffset) {\n            var shift = 32 - bitLength;\n            return this.getUnsigned(bitLength, byteOffset) << shift >> shift;\n        },\n        getUnsigned: function(bitLength, byteOffset) {\n            var value = this._getBitRangeData(bitLength, byteOffset).wideValue >>> -this._bitOffset;\n            return 32 > bitLength ? value & ~(-1 << bitLength) : value;\n        },\n        _setBinaryFloat: function(byteOffset, value, mantSize, expSize, littleEndian) {\n            var exponent, mantissa, signBit = 0 > value ? 1 : 0, eMax = ~(-1 << expSize - 1), eMin = 1 - eMax;\n            0 > value && (value = -value), 0 === value ? (exponent = 0, mantissa = 0) : isNaN(value) ? (exponent = 2 * eMax + 1, \n            mantissa = 1) : 1/0 === value ? (exponent = 2 * eMax + 1, mantissa = 0) : (exponent = Math.floor(Math.log(value) / Math.LN2), \n            exponent >= eMin && eMax >= exponent ? (mantissa = Math.floor((value * pow2(-exponent) - 1) * pow2(mantSize)), \n            exponent += eMax) : (mantissa = Math.floor(value / pow2(eMin - mantSize)), exponent = 0));\n            for (var b = []; mantSize >= 8; ) b.push(mantissa % 256), mantissa = Math.floor(mantissa / 256), \n            mantSize -= 8;\n            for (exponent = exponent << mantSize | mantissa, expSize += mantSize; expSize >= 8; ) b.push(255 & exponent), \n            exponent >>>= 8, expSize -= 8;\n            b.push(signBit << expSize | exponent), this._setBytes(byteOffset, b, littleEndian);\n        },\n        _setFloat32: function(byteOffset, value, littleEndian) {\n            this._setBinaryFloat(byteOffset, value, 23, 8, littleEndian);\n        },\n        _setFloat64: function(byteOffset, value, littleEndian) {\n            this._setBinaryFloat(byteOffset, value, 52, 11, littleEndian);\n        },\n        _set64: function(Type, byteOffset, value, littleEndian) {\n            \"object\" != typeof value && (value = Type.fromNumber(value)), littleEndian = defined(littleEndian, this._littleEndian), \n            byteOffset = defined(byteOffset, this._offset);\n            var parts = littleEndian ? {\n                lo: 0,\n                hi: 4\n            } : {\n                lo: 4,\n                hi: 0\n            };\n            for (var partName in parts) this.setUint32(byteOffset + parts[partName], value[partName], littleEndian);\n            this._offset = byteOffset + 8;\n        },\n        setInt64: function(byteOffset, value, littleEndian) {\n            this._set64(Int64, byteOffset, value, littleEndian);\n        },\n        setUint64: function(byteOffset, value, littleEndian) {\n            this._set64(Uint64, byteOffset, value, littleEndian);\n        },\n        _setUint32: function(byteOffset, value, littleEndian) {\n            this._setBytes(byteOffset, [ 255 & value, value >>> 8 & 255, value >>> 16 & 255, value >>> 24 ], littleEndian);\n        },\n        _setUint16: function(byteOffset, value, littleEndian) {\n            this._setBytes(byteOffset, [ 255 & value, value >>> 8 & 255 ], littleEndian);\n        },\n        _setUint8: function(byteOffset, value) {\n            this._setBytes(byteOffset, [ 255 & value ]);\n        },\n        setUnsigned: function(byteOffset, value, bitLength) {\n            var data = this._getBitRangeData(bitLength, byteOffset), wideValue = data.wideValue, b = data.bytes;\n            wideValue &= ~(~(-1 << bitLength) << -this._bitOffset), wideValue |= (32 > bitLength ? value & ~(-1 << bitLength) : value) << -this._bitOffset;\n            for (var i = b.length - 1; i >= 0; i--) b[i] = 255 & wideValue, wideValue >>>= 8;\n            this._setBytes(data.start, b, !0);\n        }\n    }, nodeNaming = {\n        Int8: \"Int8\",\n        Int16: \"Int16\",\n        Int32: \"Int32\",\n        Uint8: \"UInt8\",\n        Uint16: \"UInt16\",\n        Uint32: \"UInt32\",\n        Float32: \"Float\",\n        Float64: \"Double\"\n    };\n    proto._nodeBufferAction = function(type, isReadAction, byteOffset, littleEndian, value) {\n        this._offset = byteOffset + dataTypes[type];\n        var nodeName = nodeNaming[type] + (\"Int8\" === type || \"Uint8\" === type ? \"\" : littleEndian ? \"LE\" : \"BE\");\n        return byteOffset += this.byteOffset, isReadAction ? this.buffer[\"read\" + nodeName](byteOffset) : this.buffer[\"write\" + nodeName](value, byteOffset);\n    };\n    for (var type in dataTypes) !function(type) {\n        proto[\"get\" + type] = function(byteOffset, littleEndian) {\n            return this._action(type, !0, byteOffset, littleEndian);\n        }, proto[\"set\" + type] = function(byteOffset, value, littleEndian) {\n            this._action(type, !1, byteOffset, littleEndian, value);\n        };\n    }(type);\n    proto._setInt32 = proto._setUint32, proto._setInt16 = proto._setUint16, proto._setInt8 = proto._setUint8, \n    proto.setSigned = proto.setUnsigned;\n    for (var method in proto) \"set\" === method.slice(0, 3) && !function(type) {\n        proto[\"write\" + type] = function() {\n            Array.prototype.unshift.call(arguments, void 0), this[\"set\" + type].apply(this, arguments);\n        };\n    }(method.slice(3));\n    return jDataView;\n});","import { e as _asyncToGenerator, f as _regeneratorRuntime, h as _extends, _ as _inheritsLoose, M as Module } from './index-62b58b88.js';\nimport 'hls.js';\nimport '@emotion/css';\nimport 'resize-observer';\nimport 'screenfull';\nimport 'subtitle';\nimport 'immer';\nimport 'deepmerge';\nimport parse from 'url-parse';\nimport JDataView from 'jdataview';\n\n// Base BIF Parser from https://github.com/chemoish/videojs-bif/blob/master/src/parser.js\n\nvar BIF_INDEX_OFFSET = 64;\nvar NUMBER_OF_BIF_IMAGES_OFFSET = 12;\nvar VERSION_OFFSET = 8; // Metadata\n\nvar BIF_INDEX_ENTRY_LENGTH = 8; // Magic Number\n// SEE: https://sdkdocs.roku.com/display/sdkdoc/Trick+Mode+Support#TrickModeSupport-MagicNumber\n\nvar MAGIC_NUMBER = /*#__PURE__*/new Uint8Array([0x89, 0x42, 0x49, 0x46, 0x0d, 0x0a, 0x1a, 0x0a]);\n\nfunction validate(magicNumber) {\n  var isValid = true;\n  MAGIC_NUMBER.forEach(function (_byte, i) {\n    if (_byte !== magicNumber[i]) {\n      isValid = false;\n    }\n  });\n  return isValid;\n}\n\nvar BIFParser = /*#__PURE__*/function () {\n  function BIFParser(arrayBuffer) {\n    // Magic Number\n    // SEE: https://sdkdocs.roku.com/display/sdkdoc/Trick+Mode+Support#TrickModeSupport-MagicNumber\n    var magicNumber = new Uint8Array(arrayBuffer).slice(0, 8);\n\n    if (!validate(magicNumber)) {\n      throw new Error('Invalid BIF file.');\n    }\n\n    this.arrayBuffer = arrayBuffer;\n    this.data = new JDataView(arrayBuffer); // Number of BIF images\n    // SEE: https://sdkdocs.roku.com/display/sdkdoc/Trick+Mode+Support#TrickModeSupport-NumberofBIFimages\n\n    this.numberOfBIFImages = this.data.getUint32(NUMBER_OF_BIF_IMAGES_OFFSET, true); // Version\n    // SEE: https://sdkdocs.roku.com/display/sdkdoc/Trick+Mode+Support#TrickModeSupport-Version\n\n    this.version = this.data.getUint32(VERSION_OFFSET, true);\n    this.bifIndex = this.generateBIFIndex();\n    this.bifDimensions = {\n      width: 240,\n      height: 180\n    };\n\n    try {\n      this.getInitialImageDimensions();\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.warn('BIF Parser', e.stack);\n    }\n  }\n  /**\r\n   * Create the BIF index\r\n   * SEE: https://sdkdocs.roku.com/display/sdkdoc/Trick+Mode+Support#TrickModeSupport-BIFindex\r\n   *\r\n   * @returns {Array} bifIndex\r\n   */\n\n\n  var _proto = BIFParser.prototype;\n\n  _proto.generateBIFIndex = function generateBIFIndex() {\n    var bifIndex = [];\n\n    for ( // BIF index starts at byte 64 (BIF_INDEX_OFFSET)\n    var i = 0, bifIndexEntryOffset = BIF_INDEX_OFFSET; i < this.numberOfBIFImages; i += 1, bifIndexEntryOffset += BIF_INDEX_ENTRY_LENGTH) {\n      var bifIndexEntryTimestampOffset = bifIndexEntryOffset;\n      var bifIndexEntryAbsoluteOffset = bifIndexEntryOffset + 4;\n      var nextBifIndexEntryAbsoluteOffset = bifIndexEntryAbsoluteOffset + BIF_INDEX_ENTRY_LENGTH; // Documented example, items within `[]`are used to generate the frame.\n      // 64, 65, 66, 67 | 68, 69, 70, 71\n      // [Frame 0 timestamp] | [absolute offset of frame]\n      // 72, 73, 74, 75 | 76, 77, 78, 79\n      // Frame 1 timestamp | [absolute offset of frame]\n\n      var offset = this.data.getUint32(bifIndexEntryAbsoluteOffset, true);\n      var nextOffset = this.data.getUint32(nextBifIndexEntryAbsoluteOffset, true);\n      var timestamp = this.data.getUint32(bifIndexEntryTimestampOffset, true);\n      bifIndex.push({\n        offset: offset,\n        timestamp: timestamp,\n        length: nextOffset - offset\n      });\n    }\n\n    return bifIndex;\n  }\n  /**\r\n   * Return image dimension data for a specific image source\r\n   *\r\n   * @returns {object} Promise\r\n   */\n  ;\n\n  _proto.getInitialImageDimensions = function getInitialImageDimensions() {\n    var _this = this;\n\n    var image = 'data:image/jpeg;base64,';\n    var src = \"\" + image + btoa(String.fromCharCode.apply(null, Array.from(new Uint8Array(this.arrayBuffer)).slice(this.bifIndex[0].offset, this.bifIndex[0].offset + this.bifIndex[0].length)));\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      if (!img.width || !img.height) {\n        throw new Error('Missing image dimensions');\n      }\n\n      _this.bifDimensions = {\n        width: img.width,\n        height: img.height\n      };\n    };\n  }\n  /**\r\n   * Return image data for a specific frame of a movie.\r\n   *\r\n   * @param {number} second\r\n   * @returns {string} imageData\r\n   */\n  ;\n\n  _proto.getImageDataAtSecond = function getImageDataAtSecond(second) {\n    var image = 'data:image/jpeg;base64,';\n    var frame = this.bifIndex.find(function (bif) {\n      return bif.timestamp / 1000 > second;\n    });\n\n    if (!frame) {\n      return null;\n    }\n\n    var src = \"\" + image + btoa(String.fromCharCode.apply(null, Array.from(new Uint8Array(this.arrayBuffer)).slice(frame.offset, frame.offset + frame.length))); // Build our image object using image dimensions and our newest source\n\n    return {\n      start: frame.timestamp / 1000,\n      src: src,\n      x: 0,\n      y: 0,\n      width: this.bifDimensions.width,\n      height: this.bifDimensions.height\n    };\n  }\n  /**\r\n   * Return image data for all BIF files.\r\n   *\r\n   * @returns {string} imageData\r\n   */\n  ;\n\n  _proto.getImageData = function getImageData() {\n    var _this2 = this;\n\n    var images = [];\n    this.bifIndex.forEach(function (frame) {\n      var image = 'data:image/jpeg;base64,';\n      images.push({\n        start: frame.timestamp / 1000,\n        src: \"\" + image + btoa(String.fromCharCode.apply(null, Array.from(new Uint8Array(_this2.arrayBuffer)).slice(frame.offset, frame.offset + frame.length))),\n        x: 0,\n        y: 0,\n        width: _this2.bifDimensions.width,\n        height: _this2.bifDimensions.height\n      });\n    });\n    return images;\n  };\n\n  return BIFParser;\n}();\n\n// removes everything but characters and apostrophe and dash\nfunction cleanWord(word) {\n  return word.replace(/[^0-9a-z'-]/gi, '').toLowerCase();\n}\n\nvar parseInt = Number.parseInt; // helpers\n//   http://codereview.stackexchange.com/questions/45335/milliseconds-to-time-string-time-string-to-milliseconds\n\nfunction timeString2ms(a) {\n  var splitA = a.split('.');\n  var parsedRight = parseInt(splitA[1], 10);\n  var timeSpan = splitA[0].split(':').map(parseInt);\n\n  if (timeSpan[2]) {\n    return parsedRight + (timeSpan[0] * 3600 + timeSpan[1] * 60 + timeSpan[2]) * 1e3;\n  }\n\n  if (timeSpan[1]) {\n    return parsedRight + (timeSpan[0] * 60 + timeSpan[1]) * 1e3;\n  }\n\n  return parsedRight + timeSpan[0] * 1e3;\n}\n\nfunction vttToJson(_x) {\n  return _vttToJson.apply(this, arguments);\n}\n\nfunction _vttToJson() {\n  _vttToJson = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(vttString) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", new Promise(function (resolve) {\n              var current;\n              var sections = [];\n              var start = false;\n              var vttArray = vttString.split('\\n');\n              vttArray.forEach(function (line, index) {\n                if (/^\\s*[\\r\\n]/gm.test(line)) {\n                  if (current) {\n                    sections.push(_extends({}, current));\n                  }\n\n                  start = false;\n                } else if (line.includes('-->')) {\n                  var _line$split$0$trimRig, _line$split$1$trimLef;\n\n                  start = true;\n                  current = {\n                    start: timeString2ms((_line$split$0$trimRig = line.split('-->')[0].trimRight().split(' ').pop()) != null ? _line$split$0$trimRig : ''),\n                    end: timeString2ms((_line$split$1$trimLef = line.split('-->')[1].trimLeft().split(' ').shift()) != null ? _line$split$1$trimLef : ''),\n                    part: ''\n                  };\n                } else if (start) {\n                  if (current.part.length === 0) {\n                    current.part = line;\n                  } else {\n                    current.part = current.part + \" \" + line;\n                  } // If it's the last line of the subtitles\n\n\n                  if (index === vttArray.length - 1) {\n                    sections.push(_extends({}, current));\n                  }\n                }\n              });\n              var regex = /(<([0-9:.>]+)>)/gi;\n              sections.forEach(function (section) {\n                var strs = section.part.split('');\n                var results = strs.map(function (s) {\n                  return s.replace(regex, function (n) {\n                    return n.split('').reduce(function () {\n                      return \"==\" + n.replace('<', '').replace('>', '');\n                    });\n                  });\n                });\n                var cleanText = results[0].replace(/<\\/?[^>]+(>|$)/g, '');\n                var cleanArray = cleanText.split(' ');\n                var resultsArray = [];\n                cleanArray.forEach(function (item) {\n                  if (item.includes('==')) {\n                    var _item$split = item.split('=='),\n                        key = _item$split[0];\n\n                    if (key === '' || key === '##') {\n                      return;\n                    }\n\n                    resultsArray.push({\n                      word: cleanWord(item.split('==')[0]),\n                      time: timeString2ms(item.split('==')[1])\n                    });\n                  } else {\n                    resultsArray.push({\n                      word: cleanWord(item)\n                    });\n                  }\n                });\n                var sect = section;\n                sect.words = resultsArray;\n                sect.part = section.part.replace(/<\\/?[^>]+(>|$)/g, '');\n              });\n              resolve(sections);\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _vttToJson.apply(this, arguments);\n}\n\nvar ThumbnailsExtension = /*#__PURE__*/function (_Module) {\n  _inheritsLoose(ThumbnailsExtension, _Module);\n\n  function ThumbnailsExtension(instance) {\n    var _this;\n\n    _this = _Module.call(this, instance) || this;\n    _this.name = 'ThumbnailsExtension';\n    _this.thumbnails = [];\n    _this.extension = '';\n\n    _this.load()[\"catch\"](function () {//\n    });\n\n    return _this;\n  }\n\n  var _proto = ThumbnailsExtension.prototype;\n\n  _proto.loadVttThumbs = /*#__PURE__*/function () {\n    var _loadVttThumbs = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(file) {\n      var response, data, json;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(file);\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.text();\n\n            case 5:\n              data = _context.sent;\n              _context.next = 8;\n              return vttToJson(data);\n\n            case 8:\n              json = _context.sent;\n              this.thumbnails = json.map(function (item) {\n                var url = parse(item.part);\n                var parts = parse(url.hash.replace('#', '?'), true);\n\n                var _parts$query$xywh$spl = parts.query.xywh.split(',').map(Number),\n                    x = _parts$query$xywh$spl[0],\n                    y = _parts$query$xywh$spl[1],\n                    width = _parts$query$xywh$spl[2],\n                    height = _parts$query$xywh$spl[3];\n\n                url.set('hash', undefined);\n                var src = url.toString();\n                return {\n                  start: Math.trunc(item.start / 1000),\n                  src: src,\n                  x: x,\n                  y: y,\n                  width: width,\n                  height: height\n                };\n              }).sort(function (a, b) {\n                return b.start - a.start;\n              });\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function loadVttThumbs(_x) {\n      return _loadVttThumbs.apply(this, arguments);\n    }\n\n    return loadVttThumbs;\n  }();\n\n  _proto.loadBifThumbs = /*#__PURE__*/function () {\n    var _loadBifThumbs = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(file) {\n      var response, data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch(file);\n\n            case 2:\n              response = _context2.sent;\n              _context2.next = 5;\n              return response.arrayBuffer();\n\n            case 5:\n              data = _context2.sent;\n              // Since we already have functionality to grab the bif image that we\n              // need at a given second, we are only prepping the parser class and\n              // do not need to create an array of thumbs\n              this.bifParser = new BIFParser(data);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function loadBifThumbs(_x2) {\n      return _loadBifThumbs.apply(this, arguments);\n    }\n\n    return loadBifThumbs;\n  }();\n\n  _proto.load = /*#__PURE__*/function () {\n    var _load = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var _this$instance$config;\n\n      var file, _file$split$pop;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              file = (_this$instance$config = this.instance.config.thumbnails) == null ? void 0 : _this$instance$config.src;\n\n              if (!file) {\n                _context3.next = 11;\n                break;\n              }\n\n              // Get the file extension for conditional processing\n              this.extension = (_file$split$pop = file.split('.').pop()) != null ? _file$split$pop : '';\n\n              if (!(this.extension === 'vtt')) {\n                _context3.next = 8;\n                break;\n              }\n\n              _context3.next = 6;\n              return this.loadVttThumbs(file);\n\n            case 6:\n              _context3.next = 11;\n              break;\n\n            case 8:\n              if (!(this.extension === 'bif')) {\n                _context3.next = 11;\n                break;\n              }\n\n              _context3.next = 11;\n              return this.loadBifThumbs(file);\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function load() {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }();\n\n  _proto.getThumbnail = function getThumbnail(seconds) {\n    if (this.extension === 'vtt') {\n      return this.thumbnails.find(function (thumbnail) {\n        return thumbnail.start <= seconds;\n      });\n    }\n\n    if (this.extension === 'bif' && this.bifParser) {\n      return this.bifParser.getImageDataAtSecond(seconds);\n    }\n\n    return null;\n  };\n\n  return ThumbnailsExtension;\n}(Module);\n\nexport default ThumbnailsExtension;\n//# sourceMappingURL=ThumbnailsExtension-8700d783.js.map\n"],"sourceRoot":""}